# Redis データ設計

## 1. 二段階認証コード

### 1.1 データ構造

| キー (Key)                             | 値 (Value) | 用途                                 |
| -------------------------------------- | ---------- | ------------------------------------ |
| `two_factor_auth_code:{userId}:{code}` | `""` (空)  | 二段階認証コードの存在を判定するため |

> **Note:**
> 値は空文字列だが、キーが存在するかどうかで認証コードを判断する。

### 1.2 有効期限

- **30 分**（1800 秒）経過後に自動削除

---

## 2. パスワードリセットトークン

### 2.1 データ構造

| キー (Key)                              | 値 (Value) | 用途                                           |
| --------------------------------------- | ---------- | ---------------------------------------------- |
| `password_reset_token:{userId}:{token}` | `""` (空)  | パスワードリセット用トークンが存在するかを判定 |

> **Note:**
> 値は空文字列だが、キーの存在によってリセットトークンを判断する。

### 2.2 有効期限

- **30 分**（1800 秒）経過後に自動削除
